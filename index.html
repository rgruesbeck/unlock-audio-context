// read userAgent
const device = function() {
            isMobile: /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),
            iOS: /iPhone|iPad|iPod/i.test(navigator.userAgent
}


// warm up audio context for iOS devices
const unlockAudio = function(ctx) {
	let currentDevice = device()
	if (currentDevice.iOS && ctx.state === 'suspended') {
	    // check for locked audio context on touchend
	    // NOTE: NOT using touchstart to avoid getting relocked incase gesture is detected.
	    document.addEventListener('touchend', () => {
		if (ctx.state !== 'running') {
		    ctx.resume();
		}
	    })
	}
}

module.export = unlockAudio;
